!function(){"use strict";var e=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_disableSubmitButton=()=>{this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0};_enableSubmitButton=()=>{this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1};toggleButtonState(){this._hasInvalidInput(this._inputEls)?this._disableSubmitButton():this._enableSubmitButton()}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}_setEventListeners(){this._inputEls=[...this._form.querySelectorAll(this._inputSelector)],this._submitButton=this._form.querySelector(this._submitButtonSelector),this.toggleButtonState(),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}};class t{constructor(e){this._popupElement=document.querySelector(e)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose)}_handleEscClose=e=>{e.preventDefault(),"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal__close")||e.target.classList.contains("modal"))&&this.close()}))}}class s extends t{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._submitButton=this._popupForm.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent}_getInputValues(){const e=this._popupForm.querySelectorAll(".modal__input"),t={};return e.forEach((e=>{t[e.name]=e.value})),t}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}close(){this._popupForm.reset(),super.close()}setLoading(e){this._submitButton.textContent=e?"loading...":this._submitButtonText}renderLoading(){const e=document.createElement("img");return e.src=imageSrc,e}loadImage(){this.image=image,this._popupForm.append(image)}}class r{constructor(e,t){let{items:s,renderer:r}=e;this._renderer=r,this._items=s,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}const i={cardSection:".cards__list",cardTemplate:"#card-template",previewImageModal:"#preview-image-modal",previewImage:".modal__image",previewImageCaption:".modal__caption",profileEditButton:"#profile-edit-buttom",profileEditModal:"#profile-edit-modal",userInfoProfileTitle:"#profile-title-input",userInfoProfileDescription:"#profile-description-input",deleteCardPopup:"#delete-card-modal"},n={inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disable",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},o=document.querySelector("#profile-edit-button"),a=document.querySelector("#profile-edit-modal"),c=document.querySelector("#add-card-modal"),l=document.querySelector(".profile__add-button"),d=document.querySelector("#profile-title-input"),u=document.querySelector("#profile-description-input"),h=c.querySelector(".modal__form"),m=a.querySelector(".modal__form"),_=new class{constructor(e){this.url=e.baseUrl,this.headers=e.headers}getInitialCards(){return fetch(`${this.url}/cards`,{headers:{authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}getUserInfo(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"GET",headers:{authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0","Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateUserProfile(e){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:{authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0","Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}updateAvatar(e){return fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:{authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0","Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}getCards(e,t,s){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{method:"GET",headers:{name:e,link:t,_id:s,authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0","Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}addCard(e){let{name:t,link:s}=e;return fetch("https://around-api.en.tripleten-services.com/v1/cards",{method:"POST",headers:{authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0","Content-Type":"application/json"},body:JSON.stringify({name:t,link:s})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}deleteCard(e){return fetch(`${this.url}/cards/${e}`,{method:"DELETE",headers:{authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0","Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}likeCard(e){return fetch(`${this.url}/cards/${e}/likes`,{method:"PUT",headers:{authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0","Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}dislikeCard(e){return fetch(`${this.url}/cards/${e}/likes`,{method:"DELETE",headers:{authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`))).catch((e=>{console.error(e)}))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"fe7e07a4-81c5-490b-807b-e6a7cec619a0","Content-Type":"application/json"}});let p;_.getInitialCards().then((e=>{p=new r({items:e,renderer:e=>{const t=L(e);p.addItem(t)}},i.cardSection),p.renderItems()})).catch((e=>{console.error(e)})),_.getUserInfo().then((e=>{b.setUserInfo(e.name,e.about),b.setAvatar(e.avatar)})).catch((e=>{console.error(e)}));const E=new e(n,m),v=new e(n,h),b=new class{constructor(e,t,s){this._titleElement=document.querySelector(e),this._descriptionElement=document.querySelector(t),this._avatarElement=document.querySelector(s)}getUserInfo(){return{title:this._titleElement.textContent,description:this._descriptionElement.textContent}}setUserInfo(e,t){this._titleElement.textContent=e,this._descriptionElement.textContent=t}setAvatar(e){this._avatarElement.src=e}}(".profile__title",".profile__description",".profile__image");function f(e){e.isLiked?_.dislikeCard(e._id).then((()=>{e.handleLikeButton()})).catch((e=>console.error(e))):_.likeCard(e._id).then((()=>{e.handleLikeButton()})).catch((e=>console.error(e)))}function g(e){C.open(e)}const k=new class extends t{constructor(e){super(e),this._popupForm=this._popupElement.querySelector(".modal__form")}setSubmitAction(e){this._handleFormSubmit=e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}(i.deleteCardPopup);function S(e,t){k.open(),k.setSubmitAction((()=>{_.deleteCard(e).then((()=>{t.removeCard(),k.close()})).catch((e=>{console.log(e)}))}))}function L(e){return new class{constructor(e,t,s,r,i){let{name:n,link:o,cardID:a,isLiked:c,_id:l,cardData:d}=e;this._name=n,this._link=o,this._cardID=a,this._id=l,this.isLiked=c,this.cardData=d,this._cardSelector=t,this._handleImageClick=s,this._handleLikeClick=r,this._handleDeleteSubmit=i}_setEventListeners(){this._likeButton=this._cardElement.querySelector(".card__like-button"),this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this)})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteSubmit(this._id,this)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick({link:this._link,name:this._name})}))}handleDeleteSubmit(){const e=this.cardData;handleDeleteButton(e)}isLiked(){return this.isLiked}_setLikes(){this.isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}removeCard(){this._cardElement.remove(),this._cardElement=null}handleLikeButton(){this._likeButton.classList.toggle("card__like-button_active")}_getTemplate(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}getView(){return this._cardElement=this._getTemplate(),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._cardElement.querySelector(".card__title").textContent=this._name,this._setLikes(),this._setEventListeners(),this._cardElement}getID(){return this._id()}}(e,i.cardTemplate,g,f,S).getView()}k.setEventListeners(),o.addEventListener("click",(()=>{!function(){const e=b.getUserInfo();d.value=e.title,u.value=e.description}(),I.open()})),l.addEventListener("click",(()=>{y.open(),v.toggleButtonState()}));const C=new class extends t{constructor(e){let{previewImageModal:t,previewImage:s,previewImageCaption:r}=e;super(t),this._image=this._popupElement.querySelector(s),this._caption=this._popupElement.querySelector(r)}open(e){this._caption.textContent=e.name,this._image.src=e.link,this._image.alt=e.name,super.open()}}(i);C.setEventListeners(),E.enableValidation(),v.enableValidation();const y=new s("#add-card-modal",(function(e){y.setLoading(!0),_.addCard(e).then((e=>{const t=L(e);p.addItem(t),y.close()})).catch((e=>{console.error(e)})).finally((()=>{y.setLoading(!1)}))})),I=new s(i.profileEditModal,(function(e){I.setLoading(!0),_.updateUserProfile(e).then((()=>{b.setUserInfo(e.name,e.about),I.close()})).catch((e=>{console.error(e)})).finally((()=>{I.setLoading(!1)}))}));I.setEventListeners(),y.setEventListeners();const B=new s("#profile-image-modal",(e=>{B.setLoading(!0),_.updateAvatar(e.link).then((e=>{b.setAvatar(e.avatar),B.close()})).catch((e=>{console.error(e)})).finally((()=>{B.setLoading(!1)}))}));document.querySelector("#avatar-edit-button").addEventListener("click",(()=>{B.open()})),B.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoieUJBMEZBLElDYkEsRUE3RUEsTUFDRUEsV0FBQUEsQ0FBWUMsRUFBVUMsR0FDcEJDLEtBQUtDLGVBQWlCSCxFQUFTSSxjQUMvQkYsS0FBS0csc0JBQXdCTCxFQUFTTSxxQkFDdENKLEtBQUtLLHFCQUF1QlAsRUFBU1Esb0JBQ3JDTixLQUFLTyxpQkFBbUJULEVBQVNVLGdCQUNqQ1IsS0FBS1MsWUFBY1gsRUFBU1ksV0FFNUJWLEtBQUtXLE1BQVFaLENBQ2YsQ0FFQWEsZUFBQUEsQ0FBZ0JDLEdBQ2QsTUFBTUMsRUFBZWQsS0FBS1csTUFBTUksY0FBZSxJQUFHRixFQUFRRyxZQUMxREgsRUFBUUksVUFBVUMsSUFBSWxCLEtBQUtPLGtCQUMzQk8sRUFBYUssWUFBY04sRUFBUU8sa0JBQ25DTixFQUFhRyxVQUFVQyxJQUFJbEIsS0FBS1MsWUFDbEMsQ0FFQVksZUFBQUEsQ0FBZ0JSLEdBQ2QsTUFBTUMsRUFBZWQsS0FBS1csTUFBTUksY0FBZSxJQUFHRixFQUFRRyxZQUMxREgsRUFBUUksVUFBVUssT0FBT3RCLEtBQUtPLGtCQUM5Qk8sRUFBYUssWUFBYyxHQUMzQkwsRUFBYUcsVUFBVUssT0FBT3RCLEtBQUtTLFlBQ3JDLENBRUFjLG1CQUFBQSxDQUFvQlYsR0FDYkEsRUFBUVcsU0FBU0MsTUFHcEJ6QixLQUFLcUIsZ0JBQWdCUixHQUZyQmIsS0FBS1ksZ0JBQWdCQyxFQUl6QixDQUVBYSxxQkFBdUJBLEtBQ3JCMUIsS0FBSzJCLGNBQWNWLFVBQVVDLElBQUlsQixLQUFLSyxzQkFDdENMLEtBQUsyQixjQUFjQyxVQUFXLENBQUksRUFHcENDLG9CQUFzQkEsS0FDcEI3QixLQUFLMkIsY0FBY1YsVUFBVUssT0FBT3RCLEtBQUtLLHNCQUN6Q0wsS0FBSzJCLGNBQWNDLFVBQVcsQ0FBSyxFQUdyQ0UsaUJBQUFBLEdBQ005QixLQUFLK0IsaUJBQWlCL0IsS0FBS2dDLFdBQzdCaEMsS0FBSzBCLHVCQUVMMUIsS0FBSzZCLHFCQUVULENBRUFFLGdCQUFBQSxHQUNFLE9BQVEvQixLQUFLZ0MsVUFBVUMsT0FBT3BCLEdBQVlBLEVBQVFXLFNBQVNDLE9BQzdELENBRUFTLGtCQUFBQSxHQUNFbEMsS0FBS2dDLFVBQVksSUFBSWhDLEtBQUtXLE1BQU13QixpQkFBaUJuQyxLQUFLQyxpQkFDdERELEtBQUsyQixjQUFnQjNCLEtBQUtXLE1BQU1JLGNBQWNmLEtBQUtHLHVCQUNuREgsS0FBSzhCLG9CQUVMOUIsS0FBS2dDLFVBQVVJLFNBQVN2QixJQUN0QkEsRUFBUXdCLGlCQUFpQixTQUFVQyxJQUNqQ3RDLEtBQUt1QixvQkFBb0JWLEdBQ3pCYixLQUFLOEIsbUJBQW1CLEdBQ3hCLEdBRU4sQ0FFQVMsZ0JBQUFBLEdBQ0V2QyxLQUFLVyxNQUFNMEIsaUJBQWlCLFVBQVdDLElBQ3JDQSxFQUFFRSxnQkFBZ0IsSUFHcEJ4QyxLQUFLa0Msb0JBQ1AsR0MxRWEsTUFBTU8sRUFDbkI1QyxXQUFBQSxDQUFZNkMsR0FDVjFDLEtBQUsyQyxjQUFnQkMsU0FBUzdCLGNBQWMyQixFQUM5QyxDQUVBRyxJQUFBQSxHQUNFN0MsS0FBSzJDLGNBQWMxQixVQUFVQyxJQUFJLGdCQUNqQzBCLFNBQVNQLGlCQUFpQixRQUFTckMsS0FBSzhDLGdCQUMxQyxDQUVBQyxLQUFBQSxHQUNFL0MsS0FBSzJDLGNBQWMxQixVQUFVSyxPQUFPLGdCQUNwQ3NCLFNBQVNJLG9CQUFvQixRQUFTaEQsS0FBSzhDLGdCQUM3QyxDQUVBQSxnQkFBbUJHLElBQ2pCQSxFQUFJVCxpQkFDWSxXQUFaUyxFQUFJQyxLQUNObEQsS0FBSytDLE9BQ1AsRUFHRkksaUJBQUFBLEdBQ0VuRCxLQUFLMkMsY0FBY04saUJBQWlCLFNBQVVZLEtBRTFDQSxFQUFJRyxPQUFPbkMsVUFBVW9DLFNBQVMsaUJBQzlCSixFQUFJRyxPQUFPbkMsVUFBVW9DLFNBQVMsV0FFOUJyRCxLQUFLK0MsT0FDUCxHQUVKLEVDN0JhLE1BQU1PLFVBQXNCYixFQUN6QzVDLFdBQUFBLENBQVk2QyxFQUFlYSxHQUN6QkMsTUFBTWQsR0FDTjFDLEtBQUt5RCxXQUFhekQsS0FBSzJDLGNBQWM1QixjQUFjLGdCQUNuRGYsS0FBSzBELGtCQUFvQkgsRUFDekJ2RCxLQUFLMkIsY0FBZ0IzQixLQUFLeUQsV0FBVzFDLGNBQWMsa0JBQ25EZixLQUFLMkQsa0JBQW9CM0QsS0FBSzJCLGNBQWNSLFdBQzlDLENBRUF5QyxlQUFBQSxHQUNFLE1BQU1DLEVBQVk3RCxLQUFLeUQsV0FBV3RCLGlCQUFpQixpQkFDN0MyQixFQUFPLENBQUMsRUFJZCxPQUhBRCxFQUFVekIsU0FBUzJCLElBQ2pCRCxFQUFLQyxFQUFNQyxNQUFRRCxFQUFNRSxLQUFLLElBRXpCSCxDQUNULENBRUFYLGlCQUFBQSxHQUNFSyxNQUFNTCxvQkFDTm5ELEtBQUt5RCxXQUFXcEIsaUJBQWlCLFVBQVdZLElBQzFDQSxFQUFJVCxpQkFDSnhDLEtBQUswRCxrQkFBa0IxRCxLQUFLNEQsa0JBQWtCLEdBRWxELENBRUFiLEtBQUFBLEdBQ0UvQyxLQUFLeUQsV0FBV1MsUUFDaEJWLE1BQU1ULE9BQ1IsQ0FFQW9CLFVBQUFBLENBQVdDLEdBRVBwRSxLQUFLMkIsY0FBY1IsWUFEakJpRCxFQUMrQixhQUVBcEUsS0FBSzJELGlCQUUxQyxDQUVBVSxhQUFBQSxHQUNFLE1BQU1DLEVBQU0xQixTQUFTMkIsY0FBYyxPQUVuQyxPQURBRCxFQUFJRSxJQUFNQyxTQUNISCxDQUNULENBRUFJLFNBQUFBLEdBQ0UxRSxLQUFLMkUsTUFBUUEsTUFDYjNFLEtBQUt5RCxXQUFXbUIsT0FBT0QsTUFDekIsRUNsRGEsTUFBTUUsRUFDbkJoRixXQUFBQSxDQUFXaUYsRUFBc0JDLEdBQW1CLElBQXhDLE1BQUVDLEVBQUssU0FBRUMsR0FBVUgsRUFDN0I5RSxLQUFLa0YsVUFBWUQsRUFDakJqRixLQUFLbUYsT0FBU0gsRUFDZGhGLEtBQUtvRixXQUFheEMsU0FBUzdCLGNBQWNnRSxFQUMzQyxDQUVBTSxXQUFBQSxHQUNFckYsS0FBS21GLE9BQU8vQyxTQUFTa0QsSUFDbkJ0RixLQUFLa0YsVUFBVUksRUFBSyxHQUV4QixDQUNBQyxPQUFBQSxDQUFRQyxHQUNOeEYsS0FBS29GLFdBQVdLLFFBQVFELEVBQzFCLEVDZEssTUEwQk1FLEVBQVksQ0FDdkJDLFlBQWEsZUFDYkMsYUFBYyxpQkFDZEMsa0JBQW1CLHVCQUNuQkMsYUFBYyxnQkFDZEMsb0JBQXFCLGtCQUNyQkMsa0JBQW1CLHVCQUNuQkMsaUJBQWtCLHNCQUNsQkMscUJBQXNCLHVCQUN0QkMsMkJBQTRCLDZCQUM1QkMsZ0JBQWlCLHNCQUdOQyxFQUFxQixDQUNoQ25HLGNBQWUsZ0JBQ2ZFLHFCQUFzQixpQkFDdEJFLG9CQUFxQix3QkFDckJFLGdCQUFpQiwwQkFDakJFLFdBQVksd0JDNUJSc0YsRUFBb0JwRCxTQUFTN0IsY0FBYyx3QkFDM0NrRixFQUFtQnJELFNBQVM3QixjQUFjLHVCQUMxQ3VGLEVBQWUxRCxTQUFTN0IsY0FBYyxtQkFDdEN3RixFQUFtQjNELFNBQVM3QixjQUFjLHdCQUkxQ3lGLEVBQW9CNUQsU0FBUzdCLGNBQWMsd0JBQzNDMEYsRUFBMEI3RCxTQUFTN0IsY0FDdkMsOEJBR0kyRixFQUFjSixFQUFhdkYsY0FBYyxnQkFFekM0RixFQUFrQlYsRUFBaUJsRixjQUFjLGdCQUVqRDZGLEVBQU0sSUNoQ0wsTUFDTC9HLFdBQUFBLENBQVlnSCxHQUNWN0csS0FBSzhHLElBQU1ELEVBQU9FLFFBQ2xCL0csS0FBS2dILFFBQVVILEVBQU9HLE9BQ3hCLENBRUFDLGVBQUFBLEdBQ0UsT0FBT0MsTUFBTyxHQUFFbEgsS0FBSzhHLFlBQWEsQ0FDaENFLFFBQVMsQ0FDUEcsY0FBZSwwQ0FFaEJDLE1BQU1DLEdBQ0hBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQVEsVUFBU0osRUFBSUssV0FFeEMsQ0FFQUMsV0FBQUEsR0FDRSxPQUFPVCxNQUFNLDJEQUE0RCxDQUN2RVUsT0FBUSxNQUNSWixRQUFTLENBQ1BHLGNBQWUsdUNBQ2YsZUFBZ0Isc0JBRWpCQyxNQUFNQyxHQUNIQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUVOQyxRQUFRQyxPQUFRLFVBQVNKLEVBQUlLLFdBRXhDLENBRUFHLGlCQUFBQSxDQUFrQkMsR0FDaEIsT0FBT1osTUFBTSwyREFBNEQsQ0FDdkVVLE9BQVEsUUFDUlosUUFBUyxDQUNQRyxjQUFlLHVDQUNmLGVBQWdCLG9CQUVsQlksS0FBTUMsS0FBS0MsVUFBVUgsS0FFcEJWLE1BQU1DLEdBQ0RBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQVEsVUFBU0osRUFBSUssWUFFckNRLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksR0FFeEIsQ0FFQUcsWUFBQUEsQ0FBYUMsR0FDWCxPQUFPckIsTUFDSixrRUFDRCxDQUNFVSxPQUFRLFFBQ1JaLFFBQVMsQ0FDUEcsY0FBZSx1Q0FDZixlQUFnQixvQkFFbEJZLEtBQU1DLEtBQUtDLFVBQVUsQ0FBRU0sYUFHeEJuQixNQUFNQyxHQUNEQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUVOQyxRQUFRQyxPQUFRLFVBQVNKLEVBQUlLLFlBRXJDUSxPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLEdBRXhCLENBRUFLLFFBQUFBLENBQVN4RSxFQUFNeUUsRUFBTUMsR0FDbkIsT0FBT3hCLE1BQU8sd0RBQXdELENBQ3BFVSxPQUFRLE1BQ1JaLFFBQVMsQ0FDUGhELEtBQU1BLEVBQ055RSxLQUFNQSxFQUNOQyxJQUFLQSxFQUNMdkIsY0FBZSx1Q0FDZixlQUFnQixzQkFHakJDLE1BQU1DLEdBQ0RBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQVEsVUFBU0osRUFBSUssWUFFckNRLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksR0FFeEIsQ0FFQVEsT0FBQUEsQ0FBTzdELEdBQWlCLElBQWhCLEtBQUVkLEVBQUksS0FBRXlFLEdBQU0zRCxFQUNwQixPQUFPb0MsTUFBTyx3REFBd0QsQ0FDcEVVLE9BQVEsT0FDUlosUUFBUyxDQUNQRyxjQUFlLHVDQUNmLGVBQWdCLG9CQUVsQlksS0FBTUMsS0FBS0MsVUFBVSxDQUNuQmpFLEtBQU1BLEVBQ055RSxLQUFNQSxNQUdQckIsTUFBTUMsR0FDREEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBUSxVQUFTSixFQUFJSyxZQUVyQ1EsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBSSxHQUV4QixDQUVBUyxVQUFBQSxDQUFXQyxHQUNULE9BQU8zQixNQUFPLEdBQUVsSCxLQUFLOEcsYUFBYStCLElBQVUsQ0FDMUNqQixPQUFRLFNBQ1JaLFFBQVMsQ0FDUEcsY0FBZSx1Q0FDZixlQUFnQixzQkFHakJDLE1BQU1DLEdBQ0RBLEVBQUlDLEdBQ0NELEVBQUlFLE9BRU5DLFFBQVFDLE9BQVEsVUFBU0osRUFBSUssWUFFckNRLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksR0FFeEIsQ0FFQVcsUUFBQUEsQ0FBUzlILEdBQ1AsT0FBT2tHLE1BQU8sR0FBRWxILEtBQUs4RyxhQUFhOUYsVUFBWSxDQUM1QzRHLE9BQVEsTUFDUlosUUFBUyxDQUNQRyxjQUFlLHVDQUNmLGVBQWdCLHNCQUdqQkMsTUFBTUMsR0FDREEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBUSxVQUFTSixFQUFJSyxZQUVyQ1EsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBSSxHQUV4QixDQUVBWSxXQUFBQSxDQUFZL0gsR0FDVixPQUFPa0csTUFBTyxHQUFFbEgsS0FBSzhHLGFBQWE5RixVQUFZLENBQzVDNEcsT0FBUSxTQUNSWixRQUFTLENBQ1BHLGNBQWUsMENBR2hCQyxNQUFNQyxHQUNEQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUVOQyxRQUFRQyxPQUFRLFVBQVNKLEVBQUlLLFlBRXJDUSxPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLEdBRXhCLEdEaEprQixDQUNsQnBCLFFBQVMsa0RBQ1RDLFFBQVMsQ0FDUEcsY0FBZSx1Q0FDZixlQUFnQixzQkFJcEIsSUFBSXhCLEVBRUppQixFQUNHSyxrQkFDQUcsTUFBTUMsSUFDTDFCLEVBQWMsSUFBSWQsRUFDaEIsQ0FDRUcsTUFBT3FDLEVBQ1BwQyxTQUFXbkIsSUFDVCxNQUFNa0YsRUFBT0MsRUFBV25GLEdBQ3hCNkIsRUFBWUosUUFBUXlELEVBQUssR0FHN0J0RCxFQUFVQyxhQUVaQSxFQUFZTixhQUFhLElBRTFCNkMsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBSSxJQUd0QnZCLEVBQ0dlLGNBQ0FQLE1BQU1VLElBQ0xvQixFQUFTQyxZQUFZckIsRUFBUzlELEtBQU04RCxFQUFTc0IsT0FDN0NGLEVBQVNHLFVBQVV2QixFQUFTUyxPQUFPLElBRXBDTCxPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLElBT3RCLE1BQU1tQixFQUFvQixJQUFJQyxFQUM1QmxELEVBQ0FNLEdBR0k2QyxFQUFtQixJQUFJRCxFQUFjbEQsRUFBb0JLLEdBVXpEd0MsRUFBVyxJRTFGRixNQUNickosV0FBQUEsQ0FBWTRKLEVBQWVDLEVBQXFCQyxHQUM5QzNKLEtBQUs0SixjQUFnQmhILFNBQVM3QixjQUFjMEksR0FDNUN6SixLQUFLNkosb0JBQXNCakgsU0FBUzdCLGNBQWMySSxHQUNsRDFKLEtBQUs4SixlQUFpQmxILFNBQVM3QixjQUFjNEksRUFDL0MsQ0FFQWhDLFdBQUFBLEdBQ0UsTUFBTyxDQUNMb0MsTUFBTy9KLEtBQUs0SixjQUFjekksWUFDMUI2SSxZQUFhaEssS0FBSzZKLG9CQUFvQjFJLFlBRTFDLENBRUFnSSxXQUFBQSxDQUFZWSxFQUFPQyxHQUNqQmhLLEtBQUs0SixjQUFjekksWUFBYzRJLEVBQ2pDL0osS0FBSzZKLG9CQUFvQjFJLFlBQWM2SSxDQUN6QyxDQUVBWCxTQUFBQSxDQUFVZCxHQUNSdkksS0FBSzhKLGVBQWV0RixJQUFNK0QsQ0FDNUIsR0ZzRUEsa0JBQ0Esd0JBQ0EsbUJBb0JGLFNBQVMwQixFQUFnQmpCLEdBQ25CQSxFQUFLa0IsUUFDUHRELEVBQ0dtQyxZQUFZQyxFQUFLTixLQUNqQnRCLE1BQUssS0FDSjRCLEVBQUttQixrQkFBa0IsSUFFeEJqQyxPQUFPQyxHQUFRQyxRQUFRQyxNQUFNRixLQUVoQ3ZCLEVBQ0drQyxTQUFTRSxFQUFLTixLQUNkdEIsTUFBSyxLQUNKNEIsRUFBS21CLGtCQUFrQixJQUV4QmpDLE9BQU9DLEdBQVFDLFFBQVFDLE1BQU1GLElBRXBDLENBRUEsU0FBU2lDLEVBQWlCQyxHQUN4QkMsRUFBc0J6SCxLQUFLd0gsRUFDN0IsQ0FFQSxNQUFNakUsRUFBa0IsSUdwSVQsY0FBb0MzRCxFQUNqRDVDLFdBQUFBLENBQVk2QyxHQUNWYyxNQUFNZCxHQUNOMUMsS0FBS3lELFdBQWF6RCxLQUFLMkMsY0FBYzVCLGNBQWMsZUFDckQsQ0FFQXdKLGVBQUFBLENBQWdCQyxHQUNkeEssS0FBSzBELGtCQUFvQjhHLENBQzNCLENBRUFySCxpQkFBQUEsR0FDRUssTUFBTUwsb0JBQ05uRCxLQUFLeUQsV0FBV3BCLGlCQUFpQixVQUFXWSxJQUMxQ0EsRUFBSVQsaUJBQ0p4QyxLQUFLMEQsbUJBQW1CLEdBRTVCLEdIb0hnRGdDLEVBQVVVLGlCQUU1RCxTQUFTcUUsRUFBbUI1QixFQUFRRyxHQUNsQzVDLEVBQWdCdkQsT0FDaEJ1RCxFQUFnQm1FLGlCQUFnQixLQUM5QjNELEVBQ0dnQyxXQUFXQyxHQUNYekIsTUFBSyxLQUNKNEIsRUFBSzBCLGFBQ0x0RSxFQUFnQnJELE9BQU8sSUFFeEJtRixPQUFPQyxJQUNOQyxRQUFRdUMsSUFBSXhDLEVBQUksR0FDaEIsR0FFUixDQW1CQSxTQUFTYyxFQUFXMkIsR0FRbEIsT0FQYSxJTjFLZixNQUNFL0ssV0FBQUEsQ0FBV2lGLEVBRVQrRixFQUNBVCxFQUNBSCxFQUNBYSxHQUNBLElBTEEsS0FBRTlHLEVBQUksS0FBRXlFLEVBQUksT0FBRUksRUFBTSxRQUFFcUIsRUFBTyxJQUFFeEIsRUFBRyxTQUFFa0MsR0FBVTlGLEVBTTlDOUUsS0FBSytLLE1BQVEvRyxFQUNiaEUsS0FBS2dMLE1BQVF2QyxFQUNiekksS0FBS2lMLFFBQVVwQyxFQUNmN0ksS0FBSzBJLElBQU1BLEVBQ1gxSSxLQUFLa0ssUUFBVUEsRUFDZmxLLEtBQUs0SyxTQUFXQSxFQUNoQjVLLEtBQUtrTCxjQUFnQkwsRUFDckI3SyxLQUFLbUwsa0JBQW9CZixFQUN6QnBLLEtBQUtvTCxpQkFBbUJuQixFQUN4QmpLLEtBQUtxTCxvQkFBc0JQLENBQzdCLENBRUE1SSxrQkFBQUEsR0FDRWxDLEtBQUtzTCxZQUFjdEwsS0FBS3VMLGFBQWF4SyxjQUFjLHNCQUVuRGYsS0FBS3NMLFlBQVlqSixpQkFBaUIsU0FBUyxLQUN6Q3JDLEtBQUtvTCxpQkFBaUJwTCxLQUFLLElBRzdCQSxLQUFLd0wsY0FBY25KLGlCQUFpQixTQUFTLEtBQzNDckMsS0FBS3FMLG9CQUFvQnJMLEtBQUswSSxJQUFLMUksS0FBSyxJQUcxQ0EsS0FBS3lMLFdBQVdwSixpQkFBaUIsU0FBUyxLQUN4Q3JDLEtBQUttTCxrQkFBa0IsQ0FBRTFDLEtBQU16SSxLQUFLZ0wsTUFBT2hILEtBQU1oRSxLQUFLK0ssT0FBUSxHQUVsRSxDQUVBRCxrQkFBQUEsR0FDRSxNQUFNakMsRUFBUzdJLEtBQUs0SyxTQUNwQkgsbUJBQW1CNUIsRUFDckIsQ0FFQXFCLE9BQUFBLEdBQ0UsT0FBT2xLLEtBQUtrSyxPQUNkLENBRUF3QixTQUFBQSxHQUNNMUwsS0FBS2tLLFFBQ1BsSyxLQUFLc0wsWUFBWXJLLFVBQVVDLElBQUksNEJBRS9CbEIsS0FBS3NMLFlBQVlySyxVQUFVSyxPQUFPLDJCQUV0QyxDQUVBb0osVUFBQUEsR0FDRTFLLEtBQUt1TCxhQUFhakssU0FDbEJ0QixLQUFLdUwsYUFBZSxJQUN0QixDQUVBcEIsZ0JBQUFBLEdBQ0VuSyxLQUFLc0wsWUFBWXJLLFVBQVUwSyxPQUFPLDJCQUNwQyxDQUVBQyxZQUFBQSxHQUNFLE9BQU9oSixTQUNKN0IsY0FBY2YsS0FBS2tMLGVBQ25CVyxRQUFROUssY0FBYyxTQUN0QitLLFdBQVUsRUFDZixDQUVBQyxPQUFBQSxHQWFFLE9BWkEvTCxLQUFLdUwsYUFBZXZMLEtBQUs0TCxlQUN6QjVMLEtBQUt5TCxXQUFhekwsS0FBS3VMLGFBQWF4SyxjQUFjLGdCQUNsRGYsS0FBS3lMLFdBQVdqSCxJQUFNeEUsS0FBS2dMLE1BQzNCaEwsS0FBS3lMLFdBQVdPLElBQU1oTSxLQUFLK0ssTUFDM0IvSyxLQUFLc0wsWUFBY3RMLEtBQUt1TCxhQUFheEssY0FBYyxzQkFDbkRmLEtBQUt3TCxjQUFnQnhMLEtBQUt1TCxhQUFheEssY0FDckMsd0JBR0ZmLEtBQUt1TCxhQUFheEssY0FBYyxnQkFBZ0JJLFlBQWNuQixLQUFLK0ssTUFDbkUvSyxLQUFLMEwsWUFDTDFMLEtBQUtrQyxxQkFDRWxDLEtBQUt1TCxZQUNkLENBRUFVLEtBQUFBLEdBQ0UsT0FBT2pNLEtBQUswSSxLQUNkLEdNb0ZFa0MsRUFDQWxGLEVBQVVFLGFBQ1Z3RSxFQUNBSCxFQUNBUSxHQUVVc0IsU0FDZCxDQTFCQTNGLEVBQWdCakQsb0JBVWhCNkMsRUFBa0IzRCxpQkFBaUIsU0FMWDZKLE1BM0V4QixXQUNFLE1BQU1wRSxFQUFXb0IsRUFBU3ZCLGNBQzFCbkIsRUFBa0J2QyxNQUFRNkQsRUFBU2lDLE1BQ25DdEQsRUFBd0J4QyxNQUFRNkQsRUFBU2tDLFdBQzNDLENBd0VFbUMsR0FDQUMsRUFBcUJ2SixNQUFNLElBSzdCMEQsRUFBaUJsRSxpQkFBaUIsU0FBUyxLQUN6Q2dLLEVBQWF4SixPQUNiMkcsRUFBaUIxSCxtQkFBbUIsSUFjdEMsTUFBTXdJLEVBQXdCLElJbExmLGNBQTZCN0gsRUFDMUM1QyxXQUFBQSxDQUFXaUYsR0FBMkQsSUFBMUQsa0JBQUVlLEVBQWlCLGFBQUVDLEVBQVksb0JBQUVDLEdBQXFCakIsRUFDbEV0QixNQUFNcUMsR0FDTjdGLEtBQUtzTSxPQUFTdE0sS0FBSzJDLGNBQWM1QixjQUFjK0UsR0FDL0M5RixLQUFLdU0sU0FBV3ZNLEtBQUsyQyxjQUFjNUIsY0FBY2dGLEVBQ25ELENBRUFsRCxJQUFBQSxDQUFLK0gsR0FDSDVLLEtBQUt1TSxTQUFTcEwsWUFBY3lKLEVBQVM1RyxLQUNyQ2hFLEtBQUtzTSxPQUFPOUgsSUFBTW9HLEVBQVNuQyxLQUMzQnpJLEtBQUtzTSxPQUFPTixJQUFNcEIsRUFBUzVHLEtBQzNCUixNQUFNWCxNQUNSLEdKc0srQzZDLEdBSWpENEUsRUFBc0JuSCxvQkFDdEJtRyxFQUFrQi9HLG1CQUNsQmlILEVBQWlCakgsbUJBRWpCLE1BQU04SixFQUFlLElBQUkvSSxFQUN2QixtQkFZRixTQUFpQ3NILEdBQy9CeUIsRUFBYWxJLFlBQVcsR0FDeEJ5QyxFQUNHK0IsUUFBUWlDLEdBQ1J4RCxNQUFNQyxJQUNMLE1BQU0yQixFQUFPQyxFQUFXNUIsR0FDeEIxQixFQUFZSixRQUFReUQsR0FDcEJxRCxFQUFhdEosT0FBTyxJQUVyQm1GLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUksSUFHbkJxRSxTQUFRLEtBQ1BILEVBQWFsSSxZQUFXLEVBQU0sR0FFcEMsSUF2Qk1pSSxFQUF1QixJQUFJOUksRUFDL0JvQyxFQUFVTyxrQkFuR1osU0FBaUM2QixHQUMvQnNFLEVBQXFCakksWUFBVyxHQUNoQ3lDLEVBQ0dpQixrQkFBa0JDLEdBQ2xCVixNQUFLLEtBQ0o4QixFQUFTQyxZQUFZckIsRUFBUzlELEtBQU04RCxFQUFTc0IsT0FDN0NnRCxFQUFxQnJKLE9BQU8sSUFFN0JtRixPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLElBR25CcUUsU0FBUSxLQUNQSixFQUFxQmpJLFlBQVcsRUFBTSxHQUU1QyxJQXdGQWlJLEVBQXFCakosb0JBbUJyQmtKLEVBQWFsSixvQkFFYixNQUFNc0osRUFBbUIsSUFBSW5KLEVBQWMsd0JBQXlCaUYsSUFDbEVrRSxFQUFpQnRJLFlBQVcsR0FDNUJ5QyxFQUNHMEIsYUFBYUMsRUFBT0UsTUFDcEJyQixNQUFNc0YsSUFDTHhELEVBQVNHLFVBQVVxRCxFQUFLbkUsUUFDeEJrRSxFQUFpQjFKLE9BQU8sSUFFekJtRixPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFJLElBRW5CcUUsU0FBUSxLQUNQQyxFQUFpQnRJLFlBQVcsRUFBTSxHQUNsQyxJQUdpQnZCLFNBQVM3QixjQUFjLHVCQUUvQnNCLGlCQUFpQixTQUFTLEtBQ3ZDb0ssRUFBaUI1SixNQUFNLElBR3pCNEosRUFBaUJ0SixtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgbmFtZSwgbGluaywgY2FyZElELCBpc0xpa2VkLCBfaWQsIGNhcmREYXRhIH0sXHJcbiAgICBjYXJkU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlU3VibWl0XHJcbiAgKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5fY2FyZElEID0gY2FyZElEO1xyXG4gICAgdGhpcy5faWQgPSBfaWQ7XHJcbiAgICB0aGlzLmlzTGlrZWQgPSBpc0xpa2VkO1xyXG4gICAgdGhpcy5jYXJkRGF0YSA9IGNhcmREYXRhO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVTdWJtaXQgPSBoYW5kbGVEZWxldGVTdWJtaXQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVTdWJtaXQodGhpcy5faWQsIHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBsaW5rOiB0aGlzLl9saW5rLCBuYW1lOiB0aGlzLl9uYW1lIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVEZWxldGVTdWJtaXQoKSB7XHJcbiAgICBjb25zdCBjYXJkSUQgPSB0aGlzLmNhcmREYXRhO1xyXG4gICAgaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmRJRCk7XHJcbiAgfVxyXG5cclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaXNMaWtlZDtcclxuICB9XHJcblxyXG4gIF9zZXRMaWtlcygpIHtcclxuICAgIGlmICh0aGlzLmlzTGlrZWQpIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTGlrZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIHJldHVybiBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VmlldygpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9zZXRMaWtlcygpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdldElEKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lkKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xyXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBzZXR0aW5ncy5pbnB1dFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XHJcblxyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yQ2xhc3NFbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JDbGFzc0VsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIGVycm9yQ2xhc3NFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yQ2xhc3NFbCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JDbGFzc0VsLnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yQ2xhc3NFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XHJcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9kaXNhYmxlU3VibWl0QnV0dG9uID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIF9lbmFibGVTdWJtaXRCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dEVscykpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZW5hYmxlU3VibWl0QnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVscy5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuXHJcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpIHx8XHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XHJcbiAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZGF0YVtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgc2V0TG9hZGluZyhpc0xvYWRpbmcpIHtcclxuICAgIGlmIChpc0xvYWRpbmcpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJsb2FkaW5nLi4uXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVuZGVyTG9hZGluZygpIHtcclxuICAgIGNvbnN0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcbiAgICBpbWcuc3JjID0gaW1hZ2VTcmM7XHJcbiAgICByZXR1cm4gaW1nO1xyXG4gIH1cclxuXHJcbiAgbG9hZEltYWdlKCkge1xyXG4gICAgdGhpcy5pbWFnZSA9IGltYWdlO1xyXG4gICAgdGhpcy5fcG9wdXBGb3JtLmFwcGVuZChpbWFnZSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xyXG4gIGNhcmRTZWN0aW9uOiBcIi5jYXJkc19fbGlzdFwiLFxyXG4gIGNhcmRUZW1wbGF0ZTogXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gIHByZXZpZXdJbWFnZU1vZGFsOiBcIiNwcmV2aWV3LWltYWdlLW1vZGFsXCIsXHJcbiAgcHJldmlld0ltYWdlOiBcIi5tb2RhbF9faW1hZ2VcIixcclxuICBwcmV2aWV3SW1hZ2VDYXB0aW9uOiBcIi5tb2RhbF9fY2FwdGlvblwiLFxyXG4gIHByb2ZpbGVFZGl0QnV0dG9uOiBcIiNwcm9maWxlLWVkaXQtYnV0dG9tXCIsXHJcbiAgcHJvZmlsZUVkaXRNb2RhbDogXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXHJcbiAgdXNlckluZm9Qcm9maWxlVGl0bGU6IFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIixcclxuICB1c2VySW5mb1Byb2ZpbGVEZXNjcmlwdGlvbjogXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiLFxyXG4gIGRlbGV0ZUNhcmRQb3B1cDogXCIjZGVsZXRlLWNhcmQtbW9kYWxcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uU2V0dGluZ3MgPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcclxufTtcclxuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7IHNlbGVjdG9ycyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgdmFsaWRhdGlvblNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVsZW1lbnQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuXHJcbi8vQnV0dG9ucyBhbmQgb3RoZXIgRE9NIG5vZGVzXHJcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtYnV0dG9uXCIpO1xyXG5jb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWVkaXQtbW9kYWxcIik7XHJcbmNvbnN0IGFkZENhcmRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtbW9kYWxcIik7XHJcbmNvbnN0IGFkZE5ld0NhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG4vL0Zvcm0gZGF0YVxyXG5cclxuY29uc3QgcHJvZmlsZVRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcclxuKTtcclxuXHJcbmNvbnN0IGFkZENhcmRGb3JtID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcblxyXG5jb25zdCBwcm9maWxlRWRpdEZvcm0gPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCJmZTdlMDdhNC04MWM1LTQ5MGItODA3Yi1lNmE3Y2VjNjE5YTBcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxubGV0IGNhcmRTZWN0aW9uO1xyXG5cclxuYXBpXHJcbiAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICAgICAge1xyXG4gICAgICAgIGl0ZW1zOiByZXMsXHJcbiAgICAgICAgcmVuZGVyZXI6IChkYXRhKSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBjYXJkID0gcmVuZGVyQ2FyZChkYXRhKTtcclxuICAgICAgICAgIGNhcmRTZWN0aW9uLmFkZEl0ZW0oY2FyZCk7XHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgc2VsZWN0b3JzLmNhcmRTZWN0aW9uXHJcbiAgICApO1xyXG4gICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgfSk7XHJcblxyXG5hcGlcclxuICAuZ2V0VXNlckluZm8oKVxyXG4gIC50aGVuKCh1c2VyRGF0YSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8odXNlckRhdGEubmFtZSwgdXNlckRhdGEuYWJvdXQpO1xyXG4gICAgdXNlckluZm8uc2V0QXZhdGFyKHVzZXJEYXRhLmF2YXRhcik7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gIH0pO1xyXG5cclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVmFsaWRhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxyXG4gIHZhbGlkYXRpb25TZXR0aW5ncyxcclxuICBwcm9maWxlRWRpdEZvcm1cclxuKTtcclxuXHJcbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uU2V0dGluZ3MsIGFkZENhcmRGb3JtKTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxQcm9maWxlRm9ybSgpIHtcclxuICBjb25zdCB1c2VyRGF0YSA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSB1c2VyRGF0YS50aXRsZTtcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmRlc2NyaXB0aW9uO1xyXG59XHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuLyogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudCBIYW5kbGVycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xyXG4vKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKFxyXG4gIFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcclxuICBcIi5wcm9maWxlX19pbWFnZVwiXHJcbik7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdCh1c2VyRGF0YSkge1xyXG4gIGZvcm1Qcm9maWxlRWRpdE1vZGFsLnNldExvYWRpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAudXBkYXRlVXNlclByb2ZpbGUodXNlckRhdGEpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsIHVzZXJEYXRhLmFib3V0KTtcclxuICAgICAgZm9ybVByb2ZpbGVFZGl0TW9kYWwuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KVxyXG5cclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgZm9ybVByb2ZpbGVFZGl0TW9kYWwuc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcclxuICBpZiAoY2FyZC5pc0xpa2VkKSB7XHJcbiAgICBhcGlcclxuICAgICAgLmRpc2xpa2VDYXJkKGNhcmQuX2lkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVMaWtlQnV0dG9uKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhcGlcclxuICAgICAgLmxpa2VDYXJkKGNhcmQuX2lkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVMaWtlQnV0dG9uKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGVycikpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhpbWFnZURhdGEpIHtcclxuICBjYXJkUHJldmlld0ltYWdlTW9kYWwub3BlbihpbWFnZURhdGEpO1xyXG59XHJcblxyXG5jb25zdCBkZWxldGVDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKHNlbGVjdG9ycy5kZWxldGVDYXJkUG9wdXApO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQnV0dG9uKGNhcmRJRCwgY2FyZCkge1xyXG4gIGRlbGV0ZUNhcmRQb3B1cC5vcGVuKCk7XHJcbiAgZGVsZXRlQ2FyZFBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZElEKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgZGVsZXRlQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmRlbGV0ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xyXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50IExpc3RlbmVycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICovXHJcbi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuY29uc3QgaGFuZGxlRWRpdENsaWNrID0gKCkgPT4ge1xyXG4gIGZpbGxQcm9maWxlRm9ybSgpO1xyXG4gIGZvcm1Qcm9maWxlRWRpdE1vZGFsLm9wZW4oKTtcclxufTtcclxuXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVFZGl0Q2xpY2spO1xyXG5cclxuYWRkTmV3Q2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZENhcmRQb3B1cC5vcGVuKCk7XHJcbiAgYWRkRm9ybVZhbGlkYXRvci50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBjYXJkRGF0YSxcclxuICAgIHNlbGVjdG9ycy5jYXJkVGVtcGxhdGUsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlTGlrZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlQnV0dG9uXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XHJcbn1cclxuXHJcbmNvbnN0IGNhcmRQcmV2aWV3SW1hZ2VNb2RhbCA9IG5ldyBQb3B1cFdpdGhJbWFnZShzZWxlY3RvcnMpO1xyXG5cclxuLy9jb2RlcyB0byBpbml0aWFsaXplIGFsbCBpbnN0YW5jZXNcclxuXHJcbmNhcmRQcmV2aWV3SW1hZ2VNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIjYWRkLWNhcmQtbW9kYWxcIixcclxuICBoYW5kbGVBZGRDYXJkRm9ybVN1Ym1pdFxyXG4pO1xyXG5cclxuLy9ldmVudExpc3Rlcm5lcnMgZm9yIG9wZW5pbmcgcHJvZmlsZSBhbmQgYWRkIGNhcmQgbW9kYWxzL3BvcHVwc1xyXG5jb25zdCBmb3JtUHJvZmlsZUVkaXRNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHNlbGVjdG9ycy5wcm9maWxlRWRpdE1vZGFsLFxyXG4gIGhhbmRsZVByb2ZpbGVFZGl0U3VibWl0XHJcbik7XHJcblxyXG5mb3JtUHJvZmlsZUVkaXRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZEZvcm1TdWJtaXQoY2FyZERhdGEpIHtcclxuICBhZGRDYXJkUG9wdXAuc2V0TG9hZGluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC5hZGRDYXJkKGNhcmREYXRhKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBjb25zdCBjYXJkID0gcmVuZGVyQ2FyZChyZXMpO1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmQpO1xyXG4gICAgICBhZGRDYXJkUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KVxyXG5cclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgYWRkQ2FyZFBvcHVwLnNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCB1cGRhdGVBdmF0YXJGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcHJvZmlsZS1pbWFnZS1tb2RhbFwiLCAoYXZhdGFyKSA9PiB7XHJcbiAgdXBkYXRlQXZhdGFyRm9ybS5zZXRMb2FkaW5nKHRydWUpO1xyXG4gIGFwaVxyXG4gICAgLnVwZGF0ZUF2YXRhcihhdmF0YXIubGluaylcclxuICAgIC50aGVuKCh1c2VyKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldEF2YXRhcih1c2VyLmF2YXRhcik7XHJcbiAgICAgIHVwZGF0ZUF2YXRhckZvcm0uY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICB1cGRhdGVBdmF0YXJGb3JtLnNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuY29uc3QgZWRpdFBlbmNpbEljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1lZGl0LWJ1dHRvblwiKTtcclxuXHJcbmVkaXRQZW5jaWxJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgdXBkYXRlQXZhdGFyRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxudXBkYXRlQXZhdGFyRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuZXhwb3J0IHsgY2FyZFByZXZpZXdJbWFnZU1vZGFsIH07XHJcbmV4cG9ydCB7IGZvcm1Qcm9maWxlRWRpdE1vZGFsIH07XHJcbiIsImV4cG9ydCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgdGhpcy51cmwgPSBjb25maWcuYmFzZVVybDtcclxuICAgIHRoaXMuaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZmU3ZTA3YTQtODFjNS00OTBiLTgwN2ItZTZhN2NlYzYxOWEwXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZmU3ZTA3YTQtODFjNS00OTBiLTgwN2ItZTZhN2NlYzYxOWEwXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlclByb2ZpbGUodXNlckRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcImZlN2UwN2E0LTgxYzUtNDkwYi04MDdiLWU2YTdjZWM2MTlhMFwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSksXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlQXZhdGFyKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvdXNlcnMvbWUvYXZhdGFyYCxcclxuICAgICAge1xyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZmU3ZTA3YTQtODFjNS00OTBiLTgwN2ItZTZhN2NlYzYxOWEwXCIsXHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyIH0pLFxyXG4gICAgICB9XHJcbiAgICApXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkcyhuYW1lLCBsaW5rLCBfaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgbGluazogbGluayxcclxuICAgICAgICBfaWQ6IF9pZCxcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcImZlN2UwN2E0LTgxYzUtNDkwYi04MDdiLWU2YTdjZWM2MTlhMFwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgfSlcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaChgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiBcImZlN2UwN2E0LTgxYzUtNDkwYi04MDdiLWU2YTdjZWM2MTlhMFwiLFxyXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGNhcmRJRCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke2NhcmRJRH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZmU3ZTA3YTQtODFjNS00OTBiLTgwN2ItZTZhN2NlYzYxOWEwXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZmU3ZTA3YTQtODFjNS00OTBiLTgwN2ItZTZhN2NlYzYxOWEwXCIsXHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZGlzbGlrZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZmU3ZTA3YTQtODFjNS00OTBiLTgwN2ItZTZhN2NlYzYxOWEwXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9KVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IodGl0bGVTZWxlY3RvciwgZGVzY3JpcHRpb25TZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3RpdGxlRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGl0bGVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRlc2NyaXB0aW9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYXZhdGFyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0aXRsZTogdGhpcy5fdGl0bGVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHRpdGxlLCBkZXNjcmlwdGlvbikge1xyXG4gICAgdGhpcy5fdGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gdGl0bGU7XHJcbiAgICB0aGlzLl9kZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEF2YXRhcihhdmF0YXIpIHtcclxuICAgIHRoaXMuX2F2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbi8vIENoYW5nZSBuYW1lXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0U3VibWl0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcHJldmlld0ltYWdlTW9kYWwsIHByZXZpZXdJbWFnZSwgcHJldmlld0ltYWdlQ2FwdGlvbiB9KSB7XHJcbiAgICBzdXBlcihwcmV2aWV3SW1hZ2VNb2RhbCk7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKHByZXZpZXdJbWFnZSk7XHJcbiAgICB0aGlzLl9jYXB0aW9uID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IocHJldmlld0ltYWdlQ2FwdGlvbik7XHJcbiAgfVxyXG5cclxuICBvcGVuKGNhcmREYXRhKSB7XHJcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gY2FyZERhdGEubmFtZTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGNhcmREYXRhLmxpbms7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBjYXJkRGF0YS5uYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9mb3JtIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yQ2xhc3NFbCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJyZW1vdmUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9kaXNhYmxlU3VibWl0QnV0dG9uIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwiX2VuYWJsZVN1Ym1pdEJ1dHRvbiIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9pbnB1dEVscyIsImV2ZXJ5IiwiX3NldEV2ZW50TGlzdGVuZXJzIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJkb2N1bWVudCIsIm9wZW4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJzdXBlciIsIl9wb3B1cEZvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9zdWJtaXRCdXR0b25UZXh0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRMaXN0IiwiZGF0YSIsImlucHV0IiwibmFtZSIsInZhbHVlIiwicmVzZXQiLCJzZXRMb2FkaW5nIiwiaXNMb2FkaW5nIiwicmVuZGVyTG9hZGluZyIsImltZyIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJpbWFnZVNyYyIsImxvYWRJbWFnZSIsImltYWdlIiwiYXBwZW5kIiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfaXRlbXMiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwic2VsZWN0b3JzIiwiY2FyZFNlY3Rpb24iLCJjYXJkVGVtcGxhdGUiLCJwcmV2aWV3SW1hZ2VNb2RhbCIsInByZXZpZXdJbWFnZSIsInByZXZpZXdJbWFnZUNhcHRpb24iLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVFZGl0TW9kYWwiLCJ1c2VySW5mb1Byb2ZpbGVUaXRsZSIsInVzZXJJbmZvUHJvZmlsZURlc2NyaXB0aW9uIiwiZGVsZXRlQ2FyZFBvcHVwIiwidmFsaWRhdGlvblNldHRpbmdzIiwiYWRkQ2FyZE1vZGFsIiwiYWRkTmV3Q2FyZEJ1dHRvbiIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJhZGRDYXJkRm9ybSIsInByb2ZpbGVFZGl0Rm9ybSIsImFwaSIsImNvbmZpZyIsInVybCIsImJhc2VVcmwiLCJoZWFkZXJzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJhdXRob3JpemF0aW9uIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRVc2VySW5mbyIsIm1ldGhvZCIsInVwZGF0ZVVzZXJQcm9maWxlIiwidXNlckRhdGEiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwidXBkYXRlQXZhdGFyIiwiYXZhdGFyIiwiZ2V0Q2FyZHMiLCJsaW5rIiwiX2lkIiwiYWRkQ2FyZCIsImRlbGV0ZUNhcmQiLCJjYXJkSUQiLCJsaWtlQ2FyZCIsImRpc2xpa2VDYXJkIiwiY2FyZCIsInJlbmRlckNhcmQiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwiYWJvdXQiLCJzZXRBdmF0YXIiLCJlZGl0Rm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJhZGRGb3JtVmFsaWRhdG9yIiwidGl0bGVTZWxlY3RvciIsImRlc2NyaXB0aW9uU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl90aXRsZUVsZW1lbnQiLCJfZGVzY3JpcHRpb25FbGVtZW50IiwiX2F2YXRhckVsZW1lbnQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiaGFuZGxlTGlrZUNsaWNrIiwiaXNMaWtlZCIsImhhbmRsZUxpa2VCdXR0b24iLCJoYW5kbGVJbWFnZUNsaWNrIiwiaW1hZ2VEYXRhIiwiY2FyZFByZXZpZXdJbWFnZU1vZGFsIiwic2V0U3VibWl0QWN0aW9uIiwiYWN0aW9uIiwiaGFuZGxlRGVsZXRlQnV0dG9uIiwicmVtb3ZlQ2FyZCIsImxvZyIsImNhcmREYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlRGVsZXRlU3VibWl0IiwiX25hbWUiLCJfbGluayIsIl9jYXJkSUQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2hhbmRsZURlbGV0ZVN1Ym1pdCIsIl9saWtlQnV0dG9uIiwiX2NhcmRFbGVtZW50IiwiX2RlbGV0ZUJ1dHRvbiIsIl9jYXJkSW1hZ2UiLCJfc2V0TGlrZXMiLCJ0b2dnbGUiLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiZ2V0VmlldyIsImFsdCIsImdldElEIiwiaGFuZGxlRWRpdENsaWNrIiwiZmlsbFByb2ZpbGVGb3JtIiwiZm9ybVByb2ZpbGVFZGl0TW9kYWwiLCJhZGRDYXJkUG9wdXAiLCJfaW1hZ2UiLCJfY2FwdGlvbiIsImZpbmFsbHkiLCJ1cGRhdGVBdmF0YXJGb3JtIiwidXNlciJdLCJzb3VyY2VSb290IjoiIn0=